import sqlite3
import os

# Caminho para o banco de dados
db_path = 'cliente/banco.db'

# Verifica se o banco de dados existe
if os.path.exists(db_path):
    print(f"Banco de dados '{db_path}' já existe. Abrindo...")
else:
    print(f"Banco de dados '{db_path}' não encontrado. Criando...")

# Conecta ao banco de dados (cria o banco se não existir)
conn = sqlite3.connect(db_path)

# Cria um cursor
cursor = conn.cursor()

# Cria a tabela para armazenar os metadados das imagens, caso não exista
cursor.execute('''
CREATE TABLE IF NOT EXISTS imagens (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    nome_imagem TEXT NOT NULL,
    filtro_aplicado TEXT NOT NULL,
    data_hora TEXT NOT NULL
)
''')

# Confirma a transação (salva a criação da tabela)
conn.commit()

# Fecha a conexão
conn.close()

print("Banco de dados e tabela criados com sucesso!")
